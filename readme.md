# Grok2API

**ä¸­æ–‡** | [English](docs/README.en.md)

> [!NOTE]
> æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ ä¸ç ”ç©¶ï¼Œä½¿ç”¨è€…å¿…é¡»åœ¨éµå¾ª Grok çš„ **ä½¿ç”¨æ¡æ¬¾** ä»¥åŠ **æ³•å¾‹æ³•è§„** çš„æƒ…å†µä¸‹ä½¿ç”¨ï¼Œä¸å¾—ç”¨äºéæ³•ç”¨é€”ã€‚

åŸºäº **FastAPI** é‡æ„çš„ Grok2APIï¼Œå…¨é¢é€‚é…æœ€æ–° Web è°ƒç”¨æ ¼å¼ï¼Œæ”¯æŒæµ/éæµå¼å¯¹è¯ã€å›¾åƒç”Ÿæˆ/ç¼–è¾‘ã€æ·±åº¦æ€è€ƒï¼Œå·æ± å¹¶å‘ä¸è‡ªåŠ¨è´Ÿè½½å‡è¡¡ä¸€ä½“åŒ–ã€‚

### NOTEï¼šé¡¹ç›®è¿‘æœŸåœæ­¢æ¥å— PR å’Œ æš‚åœåŠŸèƒ½æ›´æ–°ï¼Œæœ€åä¼˜åŒ–ä¸€æ¬¡é¡¹ç›®ç»“æ„ï½

<img width="2562" height="1280" alt="image" src="https://github.com/user-attachments/assets/356d772a-65e1-47bd-abc8-c00bb0e2c9cc" />

<br>

## ä½¿ç”¨è¯´æ˜

### å¦‚ä½•å¯åŠ¨

- æœ¬åœ°å¼€å‘

```
uv sync

uv run main.py
```

### å¦‚ä½•éƒ¨ç½²


#### docker compose éƒ¨ç½²
```
git clone https://github.com/chenyme/grok2api

docker compose up -d
```

#### Vercel éƒ¨ç½²

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/chenyme/grok2api&env=LOG_LEVEL,LOG_FILE_ENABLED,DATA_DIR,SERVER_STORAGE_TYPE,SERVER_STORAGE_URL&envDefaults=%7B%22DATA_DIR%22%3A%22/tmp/data%22%2C%22LOG_FILE_ENABLED%22%3A%22false%22%2C%22LOG_LEVEL%22%3A%22INFO%22%2C%22SERVER_STORAGE_TYPE%22%3A%22local%22%2C%22SERVER_STORAGE_URL%22%3A%22%22%7D)

> è¯·åŠ¡å¿…è®¾ç½® DATA_DIR=/tmp/dataï¼Œå¹¶å…³é—­æ–‡ä»¶æ—¥å¿— LOG_FILE_ENABLED=falseã€‚
>
> æŒä¹…åŒ–è¯·ä½¿ç”¨ MySQL / Redis / PostgreSQLï¼Œåœ¨ Vercel ç¯å¢ƒå˜é‡ä¸­è®¾ç½®ï¼šSERVER_STORAGE_TYPEï¼ˆmysql/redis/pgsqlï¼‰ä¸ SERVER_STORAGE_URLã€‚

#### Render éƒ¨ç½²

[![Deploy to Render](https://render.com/images/deploy-to-render-button.svg)](https://render.com/deploy?repo=https://github.com/chenyme/grok2api)

> Render å…è´¹å®ä¾‹ 15 åˆ†é’Ÿæ— è®¿é—®ä¼šä¼‘çœ ï¼Œæ¢å¤/é‡å¯/é‡æ–°éƒ¨ç½²ä¼šä¸¢å¤±ã€‚
>
> æŒä¹…åŒ–è¯·ä½¿ç”¨ MySQL / Redis / PostgreSQLï¼Œåœ¨ Render ç¯å¢ƒå˜é‡ä¸­è®¾ç½®ï¼šSERVER_STORAGE_TYPEï¼ˆmysql/redis/pgsqlï¼‰ä¸ SERVER_STORAGE_URLã€‚

### ç®¡ç†é¢æ¿

è®¿é—®åœ°å€ï¼š`http://<host>:8000/admin`
é»˜è®¤ç™»å½•å¯†ç ï¼š`grok2api`ï¼ˆå¯¹åº”é…ç½®é¡¹ `app.app_key`ï¼Œå»ºè®®ä¿®æ”¹ï¼‰ã€‚

**åŠŸèƒ½è¯´æ˜**ï¼š

- **Token ç®¡ç†**ï¼šå¯¼å…¥/æ·»åŠ /åˆ é™¤ Tokenï¼ŒæŸ¥çœ‹çŠ¶æ€å’Œé…é¢
- **çŠ¶æ€ç­›é€‰**ï¼šæŒ‰çŠ¶æ€ï¼ˆæ­£å¸¸/é™æµ/å¤±æ•ˆï¼‰æˆ– NSFW çŠ¶æ€ç­›é€‰
- **æ‰¹é‡æ“ä½œ**ï¼šæ‰¹é‡åˆ·æ–°ã€å¯¼å‡ºã€åˆ é™¤ã€å¼€å¯ NSFW
- **NSFW å¼€å¯**ï¼šä¸€é”®ä¸º Token å¼€å¯ Unhinged æ¨¡å¼ï¼ˆéœ€ä»£ç†æˆ– cf_clearanceï¼‰
- **é…ç½®ç®¡ç†**ï¼šåœ¨çº¿ä¿®æ”¹ç³»ç»Ÿé…ç½®
- **ç¼“å­˜ç®¡ç†**ï¼šæŸ¥çœ‹å’Œæ¸…ç†åª’ä½“ç¼“å­˜
- **å›¾ç‰‡ç®¡ç†**ï¼šæŸ¥çœ‹ã€ç­›é€‰ã€å¯¼å‡ºã€åˆ é™¤ç”Ÿæˆçš„å›¾ç‰‡ï¼Œæ”¯æŒè´¨é‡åˆ†æå’Œè‡ªåŠ¨ç­›é€‰

### å›¾ç‰‡ç®¡ç†åŠŸèƒ½

è®¿é—®åœ°å€ï¼š`http://<host>:8000/gallery`

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- ğŸ“Š **ç»Ÿè®¡ä¿¡æ¯**ï¼šå›¾ç‰‡æ€»æ•°ã€æ€»å¤§å°ã€æœ¬æœˆæ–°å¢ã€å¸¸ç”¨æ ‡ç­¾
- ğŸ” **ç­›é€‰åŠŸèƒ½**ï¼šæŒ‰æç¤ºè¯ã€æ¨¡å‹ã€å®½é«˜æ¯”ã€è´¨é‡è¯„åˆ†ç­›é€‰
- ğŸ“ˆ **è´¨é‡åˆ†æ**ï¼šè‡ªåŠ¨æ£€æµ‹æ¨¡ç³Šåº¦ã€äº®åº¦ã€å¯¹æ¯”åº¦ï¼Œç”Ÿæˆè´¨é‡è¯„åˆ†
- ğŸ¤– **è‡ªåŠ¨åˆ é™¤**ï¼šå›¾ç‰‡ç”Ÿæˆåè‡ªåŠ¨è´¨é‡æ£€æµ‹ï¼Œä½äº30åˆ†è‡ªåŠ¨åˆ é™¤
- ğŸ·ï¸ **æ ‡ç­¾ç®¡ç†**ï¼šæ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤å›¾ç‰‡æ ‡ç­¾
- ğŸ“¤ **æ‰¹é‡æ“ä½œ**ï¼šæ‰¹é‡å¯¼å‡ºZIPã€æ‰¹é‡åˆ é™¤ã€æ‰¹é‡è´¨é‡åˆ†æ
- ğŸ“ **æœ¬åœ°åŒæ­¥**ï¼šæ‰«ææœ¬åœ°å›¾ç‰‡æ–‡ä»¶å¤¹ï¼Œè‡ªåŠ¨ç”Ÿæˆå…ƒæ•°æ®
- â¬†ï¸ **å›¾ç‰‡ä¸Šä¼ **ï¼šæ”¯æŒç‚¹å‡»ä¸Šä¼ å’Œæ‹–æ‹½ä¸Šä¼ 

**è´¨é‡ç­›é€‰é€‰é¡¹**ï¼š
- ä¼˜è´¨ (â‰¥80åˆ†)
- è‰¯å¥½ (â‰¥60åˆ†)
- ä¸€èˆ¬ (â‰¥40åˆ†)
- ä½è´¨é‡ (<40åˆ†)
- è¾ƒå·® (<60åˆ†)
- æœ‰è´¨é‡é—®é¢˜

**è´¨é‡æ£€æµ‹æŒ‡æ ‡**ï¼š
- æ¨¡ç³Šåº¦è¯„åˆ†ï¼ˆ0-100ï¼ŒåŸºäºæ‹‰æ™®æ‹‰æ–¯æ–¹å·®ï¼‰
- äº®åº¦è¯„åˆ†ï¼ˆ0-100ï¼Œ50ä¸ºæ­£å¸¸ï¼‰
- å¯¹æ¯”åº¦è¯„åˆ†ï¼ˆ0-100ï¼‰
- ç»¼åˆè´¨é‡è¯„åˆ†ï¼ˆåŠ æƒå¹³å‡ï¼‰
- è´¨é‡é—®é¢˜æ ‡è®°ï¼ˆæåº¦æ¨¡ç³Šã€ä¸¥é‡æ¨¡ç³Šã€æåº¦è¿‡æš—/è¿‡äº®ã€æä½å¯¹æ¯”åº¦ï¼‰

### ç¯å¢ƒå˜é‡

> é…ç½® `.env` æ–‡ä»¶

| å˜é‡å                  | è¯´æ˜                                                | é»˜è®¤å€¼      | ç¤ºä¾‹                                                |
| :---------------------- | :-------------------------------------------------- | :---------- | :-------------------------------------------------- |
| `LOG_LEVEL`           | æ—¥å¿—çº§åˆ«                                            | `INFO`    | `DEBUG`                                           |
| `LOG_FILE_ENABLED`   | æ˜¯å¦å¯ç”¨æ–‡ä»¶æ—¥å¿—                                    | `true`    | `false`                                           |
| `DATA_DIR`           | æ•°æ®ç›®å½•ï¼ˆé…ç½®/Token/é”ï¼‰                           | `./data`  | `/data`                                           |
| `SERVER_HOST`         | æœåŠ¡ç›‘å¬åœ°å€                                        | `0.0.0.0` | `0.0.0.0`                                         |
| `SERVER_PORT`         | æœåŠ¡ç«¯å£                                            | `8000`    | `8000`                                            |
| `SERVER_WORKERS`      | Uvicorn worker æ•°é‡                                 | `1`       | `2`                                               |
| `SERVER_STORAGE_TYPE` | å­˜å‚¨ç±»å‹ï¼ˆ`local`/`redis`/`mysql`/`pgsql`ï¼‰ | `local`   | `pgsql`                                           |
| `SERVER_STORAGE_URL`  | å­˜å‚¨è¿æ¥ä¸²ï¼ˆlocal æ—¶å¯ä¸ºç©ºï¼‰                        | `""`      | `postgresql+asyncpg://user:password@host:5432/db` |

> MySQL ç¤ºä¾‹ï¼š`mysql+aiomysql://user:password@host:3306/db`ï¼ˆè‹¥å¡« `mysql://` ä¼šè‡ªåŠ¨è½¬ä¸º `mysql+aiomysql://`ï¼‰

### å¯ç”¨æ¬¡æ•°

- Basic è´¦å·ï¼š80 æ¬¡ / 20h
- Super è´¦å·ï¼š140 æ¬¡ / 2h

### å¯ç”¨æ¨¡å‹

| æ¨¡å‹å                     | è®¡æ¬¡ | å¯ç”¨è´¦å·    | å¯¹è¯åŠŸèƒ½ | å›¾åƒåŠŸèƒ½ | è§†é¢‘åŠŸèƒ½ |
| :------------------------- | :--: | :---------- | :------: | :------: | :------: |
| `grok-3`                 |  1  | Basic/Super |   æ”¯æŒ   |   æ”¯æŒ   |    -    |
| `grok-3-fast`            |  1  | Basic/Super |   æ”¯æŒ   |   æ”¯æŒ   |    -    |
| `grok-4`                 |  1  | Basic/Super |   æ”¯æŒ   |   æ”¯æŒ   |    -    |
| `grok-4-mini`            |  1  | Basic/Super |   æ”¯æŒ   |   æ”¯æŒ   |    -    |
| `grok-4-fast`            |  1  | Basic/Super |   æ”¯æŒ   |   æ”¯æŒ   |    -    |
| `grok-4-heavy`           |  4  | Super       |   æ”¯æŒ   |   æ”¯æŒ   |    -    |
| `grok-4.1`               |  1  | Basic/Super |   æ”¯æŒ   |   æ”¯æŒ   |    -    |
| `grok-4.1-thinking`      |  4  | Basic/Super |   æ”¯æŒ   |   æ”¯æŒ   |    -    |
| `grok-imagine-1.0`       |  4  | Basic/Super |    -    |   æ”¯æŒ   |    -    |
| `grok-imagine-1.0-edit`  |  4  | Basic/Super |    -    |   æ”¯æŒ   |    -    |
| `grok-imagine-1.0-video` |  -  | Basic/Super |    -    |    -    |   æ”¯æŒ   |

<br>

## æ¥å£è¯´æ˜

### `POST /v1/chat/completions`

> é€šç”¨æ¥å£ï¼Œæ”¯æŒå¯¹è¯èŠå¤©ã€å›¾åƒç”Ÿæˆã€å›¾åƒç¼–è¾‘ã€è§†é¢‘ç”Ÿæˆã€è§†é¢‘è¶…åˆ†

```bash
curl http://localhost:8000/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $GROK2API_API_KEY" \
  -d '{
    "model": "grok-4",
    "messages": [{"role":"user","content":"ä½ å¥½"}]
  }'
```

<details>
<summary>æ”¯æŒçš„è¯·æ±‚å‚æ•°</summary>

<br>

| å­—æ®µ                    | ç±»å‹    | è¯´æ˜                           | å¯ç”¨å‚æ•°                                      |
| :---------------------- | :------ | :----------------------------- | :-------------------------------------------- |
| `model`               | string  | æ¨¡å‹åç§°                       | è§ä¸Šæ–¹æ¨¡å‹åˆ—è¡¨                                |
| `messages`            | array   | æ¶ˆæ¯åˆ—è¡¨                       | è§ä¸‹æ–¹æ¶ˆæ¯æ ¼å¼                                |
| `stream`              | boolean | æ˜¯å¦å¼€å¯æµå¼è¾“å‡º               | `true`, `false`                           |
| `thinking`            | string  | æ€ç»´é“¾æ¨¡å¼                     | `enabled`, `disabled`, `null`           |
| `video_config`        | object  | **è§†é¢‘æ¨¡å‹ä¸“ç”¨é…ç½®å¯¹è±¡** | -                                             |
| â””â”€`aspect_ratio`    | string  | è§†é¢‘å®½é«˜æ¯”                     | `16:9`, `9:16`, `1:1`, `2:3`, `3:2` |
| â””â”€`video_length`    | integer | è§†é¢‘æ—¶é•¿ (ç§’)                  | `6`, `10`, `15`                         |
| â””â”€`resolution_name` | string  | åˆ†è¾¨ç‡                         | `480p`, `720p`                            |
| â””â”€`preset`          | string  | é£æ ¼é¢„è®¾                       | `fun`, `normal`, `spicy`, `custom`    |

**æ¶ˆæ¯æ ¼å¼ (messages)**ï¼š

| å­—æ®µ        | ç±»å‹         | è¯´æ˜                                                     |
| :---------- | :----------- | :------------------------------------------------------- |
| `role`    | string       | è§’è‰²ï¼š`developer`, `system`, `user`, `assistant` |
| `content` | string/array | æ¶ˆæ¯å†…å®¹ï¼Œæ”¯æŒçº¯æ–‡æœ¬æˆ–å¤šæ¨¡æ€æ•°ç»„                         |

**å¤šæ¨¡æ€å†…å®¹å—ç±»å‹ (content array)**ï¼š

| type          | è¯´æ˜     | ç¤ºä¾‹                                                           |
| :------------ | :------- | :------------------------------------------------------------- |
| `text`      | æ–‡æœ¬å†…å®¹ | `{"type": "text", "text": "æè¿°è¿™å¼ å›¾ç‰‡"}`                   |
| `image_url` | å›¾ç‰‡ URL | `{"type": "image_url", "image_url": {"url": "https://..."}}` |
| `file`      | æ–‡ä»¶     | `{"type": "file", "file": {"url": "https://..."}}`           |

æ³¨ï¼šé™¤ä¸Šè¿°å¤–çš„å…¶ä»–å‚æ•°å°†è‡ªåŠ¨ä¸¢å¼ƒå¹¶å¿½ç•¥

<br>

</details>

<br>

### `POST /v1/images/generations`

> å›¾åƒç”Ÿæˆæ¥å£

```bash
curl http://localhost:8000/v1/images/generations \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $GROK2API_API_KEY" \
  -d '{
    "model": "grok-imagine-1.0",
    "prompt": "ä¸€åªåœ¨å¤ªç©ºæ¼‚æµ®çš„çŒ«",
    "n": 1
  }'
```

<details>
<summary>æ”¯æŒçš„è¯·æ±‚å‚æ•°</summary>

<br>

| å­—æ®µ                | ç±»å‹    | è¯´æ˜             | å¯ç”¨å‚æ•°                                     |
| :------------------ | :------ | :--------------- | :------------------------------------------- |
| `model`           | string  | å›¾åƒæ¨¡å‹å       | `grok-imagine-1.0`                         |
| `prompt`          | string  | å›¾åƒæè¿°æç¤ºè¯   | -                                            |
| `n`               | integer | ç”Ÿæˆæ•°é‡         | `1` - `10` (æµå¼æ¨¡å¼ä»…é™ `1` æˆ– `2`) |
| `stream`          | boolean | æ˜¯å¦å¼€å¯æµå¼è¾“å‡º | `true`, `false`                          |
| `size`            | string  | å›¾ç‰‡å°ºå¯¸         | `1024x1024` (WS æ¨¡å¼æ”¯æŒæ˜ å°„åˆ°æ¯”ä¾‹)        |
| `quality`         | string  | å›¾ç‰‡è´¨é‡         | `standard` (æš‚ä¸æ”¯æŒè‡ªå®šä¹‰)                |
| `response_format` | string  | å“åº”æ ¼å¼         | `url`, `b64_json`                        |
| `style`           | string  | é£æ ¼             | - (æš‚ä¸æ”¯æŒ)                                 |

æ³¨ï¼š`quality`ã€`style` å‚æ•°ä¸º OpenAI å…¼å®¹ä¿ç•™ï¼Œå½“å‰ç‰ˆæœ¬æš‚ä¸æ”¯æŒè‡ªå®šä¹‰ã€‚
å½“å¼€å¯ `grok.image_ws=true` æ—¶ï¼Œ`size` å°†æ˜ å°„ä¸ºå®½é«˜æ¯”ï¼ˆä»…æ”¯æŒ 5 ç§ï¼š`16:9`ã€`9:16`ã€`1:1`ã€`2:3`ã€`3:2`ï¼‰ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä¼ ä»¥ä¸Šæ¯”ä¾‹å­—ç¬¦ä¸²ï¼š
`1024x576/1280x720/1536x864 -> 16:9`ï¼Œ`576x1024/720x1280/864x1536 -> 9:16`ï¼Œ`1024x1024/512x512 -> 1:1`ï¼Œ`1024x1536/512x768/768x1024 -> 2:3`ï¼Œ`1536x1024/768x512/1024x768 -> 3:2`ï¼Œå…¶ä»–å€¼é»˜è®¤ `2:3`ã€‚

<br>

</details>

<br>

### `POST /v1/images/edits`

> å›¾åƒç¼–è¾‘æ¥å£ï¼ˆmultipart/form-dataï¼‰

```bash
curl http://localhost:8000/v1/images/edits \
  -H "Authorization: Bearer $GROK2API_API_KEY" \
  -F "model=grok-imagine-1.0-edit" \
  -F "prompt=æŠŠå›¾ç‰‡å˜æ¸…æ™°" \
  -F "image=@/path/to/image.png" \
  -F "n=1"
```

<details>
<summary>æ”¯æŒçš„è¯·æ±‚å‚æ•°</summary>

<br>

| å­—æ®µ                | ç±»å‹    | è¯´æ˜             | å¯ç”¨å‚æ•°                                     |
| :------------------ | :------ | :--------------- | :------------------------------------------- |
| `model`           | string  | å›¾åƒæ¨¡å‹å       | `grok-imagine-1.0-edit`                    |
| `prompt`          | string  | ç¼–è¾‘æè¿°         | -                                            |
| `image`           | file    | å¾…ç¼–è¾‘å›¾ç‰‡       | `png`, `jpg`, `webp`                   |
| `n`               | integer | ç”Ÿæˆæ•°é‡         | `1` - `10` (æµå¼æ¨¡å¼ä»…é™ `1` æˆ– `2`) |
| `stream`          | boolean | æ˜¯å¦å¼€å¯æµå¼è¾“å‡º | `true`, `false`                          |
| `size`            | string  | å›¾ç‰‡å°ºå¯¸         | `1024x1024` (æš‚ä¸æ”¯æŒè‡ªå®šä¹‰)               |
| `quality`         | string  | å›¾ç‰‡è´¨é‡         | `standard` (æš‚ä¸æ”¯æŒè‡ªå®šä¹‰)                |
| `response_format` | string  | å“åº”æ ¼å¼         | `url`, `b64_json`                        |
| `style`           | string  | é£æ ¼             | - (æš‚ä¸æ”¯æŒ)                                 |

æ³¨ï¼š`size`ã€`quality`ã€`style` å‚æ•°ä¸º OpenAI å…¼å®¹ä¿ç•™ï¼Œå½“å‰ç‰ˆæœ¬æš‚ä¸æ”¯æŒè‡ªå®šä¹‰

<br>

</details>

<br>

## å‚æ•°é…ç½®

é…ç½®æ–‡ä»¶ï¼š`data/config.toml`

> [!NOTE]
> ç”Ÿäº§ç¯å¢ƒæˆ–åå‘ä»£ç†éƒ¨ç½²æ—¶ï¼Œè¯·ç¡®ä¿ `app.app_url` é…ç½®ä¸ºå¯¹å¤–å¯è®¿é—®çš„å®Œæ•´ URLï¼Œ
> å¦åˆ™å¯èƒ½å‡ºç°æ–‡ä»¶è®¿é—®é“¾æ¥ä¸æ­£ç¡®æˆ– 403 ç­‰é—®é¢˜ã€‚

> [!TIP]
> **v2.0 é…ç½®ç»“æ„å‡çº§**ï¼šæ—§ç‰ˆæœ¬ç”¨æˆ·æ›´æ–°åï¼Œé…ç½®ä¼š**è‡ªåŠ¨è¿ç§»**åˆ°æ–°ç»“æ„ï¼Œæ— éœ€æ‰‹åŠ¨ä¿®æ”¹ã€‚
> æ—§çš„ `[grok]` é…ç½®èŠ‚ä¸­çš„è‡ªå®šä¹‰å€¼ä¼šè‡ªåŠ¨æ˜ å°„åˆ°å¯¹åº”çš„æ–°é…ç½®èŠ‚ã€‚

| æ¨¡å—                  | å­—æ®µ                             | é…ç½®å             | è¯´æ˜                                                  | é»˜è®¤å€¼                                                    |
| :-------------------- | :------------------------------- | :----------------- | :---------------------------------------------------- | :-------------------------------------------------------- |
| **app**         | `app_url`                      | åº”ç”¨åœ°å€           | å½“å‰ Grok2API æœåŠ¡çš„å¤–éƒ¨è®¿é—® URLï¼Œç”¨äºæ–‡ä»¶é“¾æ¥è®¿é—®ã€‚  | `http://127.0.0.1:8000`                                 |
|                       | `app_key`                      | åå°å¯†ç            | ç™»å½• Grok2API ç®¡ç†åå°çš„å¯†ç ï¼ˆå¿…å¡«ï¼‰ã€‚                | `grok2api`                                              |
|                       | `api_key`                      | API å¯†é’¥           | è°ƒç”¨ Grok2API æœåŠ¡çš„ Tokenï¼ˆå¯é€‰ï¼‰ã€‚                  | `""`                                                    |
|                       | `image_format`                 | å›¾ç‰‡æ ¼å¼           | ç”Ÿæˆçš„å›¾ç‰‡æ ¼å¼ï¼ˆurl æˆ– base64ï¼‰ã€‚                     | `url`                                                   |
|                       | `video_format`                 | è§†é¢‘æ ¼å¼           | ç”Ÿæˆçš„è§†é¢‘æ ¼å¼ï¼ˆhtml æˆ– urlï¼Œurl ä¸ºå¤„ç†åçš„é“¾æ¥ï¼‰ã€‚   | `html`                                                  |
| **network**     | `timeout`                      | è¯·æ±‚è¶…æ—¶           | è¯·æ±‚ Grok æœåŠ¡çš„è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ã€‚                      | `120`                                                   |
|                       | `base_proxy_url`               | åŸºç¡€ä»£ç† URL       | ä»£ç†è¯·æ±‚åˆ° Grok å®˜ç½‘çš„åŸºç¡€æœåŠ¡åœ°å€ã€‚                  | `""`                                                    |
|                       | `asset_proxy_url`              | èµ„æºä»£ç† URL       | ä»£ç†è¯·æ±‚åˆ° Grok å®˜ç½‘çš„é™æ€èµ„æºï¼ˆå›¾ç‰‡/è§†é¢‘ï¼‰åœ°å€ã€‚     | `""`                                                    |
| **security**    | `cf_clearance`                 | CF Clearance       | Cloudflare éªŒè¯ Cookieï¼Œç”¨äºç»•è¿‡åçˆ¬è™«éªŒè¯ã€‚          | `""`                                                    |
|                       | `browser`                      | æµè§ˆå™¨æŒ‡çº¹         | curl_cffi æµè§ˆå™¨æŒ‡çº¹æ ‡è¯†ï¼ˆå¦‚ chrome136ï¼‰ã€‚            | `chrome136`                                             |
|                       | `user_agent`                   | User-Agent         | HTTP è¯·æ±‚çš„ User-Agent å­—ç¬¦ä¸²ã€‚                       | `Mozilla/5.0 (Macintosh; ...)`                          |
| **chat**        | `temporary`                    | ä¸´æ—¶å¯¹è¯           | æ˜¯å¦å¯ç”¨ä¸´æ—¶å¯¹è¯æ¨¡å¼ã€‚                                | `true`                                                  |
|                       | `disable_memory`               | ç¦ç”¨è®°å¿†           | ç¦ç”¨ Grok è®°å¿†åŠŸèƒ½ï¼Œé˜²æ­¢å“åº”ä¸­å‡ºç°ä¸ç›¸å…³ä¸Šä¸‹æ–‡ã€‚      | `true`                                                  |
|                       | `stream`                       | æµå¼å“åº”           | æ˜¯å¦é»˜è®¤å¯ç”¨æµå¼è¾“å‡ºã€‚                                | `true`                                                  |
|                       | `thinking`                     | æ€ç»´é“¾             | æ˜¯å¦å¯ç”¨æ¨¡å‹æ€ç»´é“¾è¾“å‡ºã€‚                              | `true`                                                  |
|                       | `dynamic_statsig`              | åŠ¨æ€æŒ‡çº¹           | æ˜¯å¦å¯ç”¨åŠ¨æ€ç”Ÿæˆ Statsig å€¼ã€‚                         | `true`                                                  |
|                       | `filter_tags`                  | è¿‡æ»¤æ ‡ç­¾           | è‡ªåŠ¨è¿‡æ»¤ Grok å“åº”ä¸­çš„ç‰¹æ®Šæ ‡ç­¾ã€‚                      | `["xaiartifact", "xai:tool_usage_card", "grok:render"]` |
| **retry**       | `max_retry`                    | æœ€å¤§é‡è¯•           | è¯·æ±‚ Grok æœåŠ¡å¤±è´¥æ—¶çš„æœ€å¤§é‡è¯•æ¬¡æ•°ã€‚                  | `3`                                                     |
|                       | `retry_status_codes`           | é‡è¯•çŠ¶æ€ç          | è§¦å‘é‡è¯•çš„ HTTP çŠ¶æ€ç åˆ—è¡¨ã€‚                          | `[401, 429, 403]`                                       |
|                       | `retry_backoff_base`           | é€€é¿åŸºæ•°           | é‡è¯•é€€é¿çš„åŸºç¡€å»¶è¿Ÿï¼ˆç§’ï¼‰ã€‚                            | `0.5`                                                   |
|                       | `retry_backoff_factor`         | é€€é¿å€ç‡           | é‡è¯•é€€é¿çš„æŒ‡æ•°æ”¾å¤§ç³»æ•°ã€‚                              | `2.0`                                                   |
|                       | `retry_backoff_max`            | é€€é¿ä¸Šé™           | å•æ¬¡é‡è¯•ç­‰å¾…çš„æœ€å¤§å»¶è¿Ÿï¼ˆç§’ï¼‰ã€‚                        | `30.0`                                                  |
|                       | `retry_budget`                 | é€€é¿é¢„ç®—           | å•æ¬¡è¯·æ±‚çš„æœ€å¤§é‡è¯•æ€»è€—æ—¶ï¼ˆç§’ï¼‰ã€‚                      | `90.0`                                                  |
| **timeout**     | `stream_idle_timeout`          | æµç©ºé—²è¶…æ—¶         | æµå¼å“åº”ç©ºé—²è¶…æ—¶ï¼ˆç§’ï¼‰ï¼Œè¶…è¿‡å°†æ–­å¼€ã€‚                  | `120.0`                                                 |
|                       | `video_idle_timeout`           | è§†é¢‘ç©ºé—²è¶…æ—¶       | è§†é¢‘ç”Ÿæˆç©ºé—²è¶…æ—¶ï¼ˆç§’ï¼‰ï¼Œè¶…è¿‡å°†æ–­å¼€ã€‚                  | `90.0`                                                  |
| **image**       | `image_ws`                     | WebSocket ç”Ÿæˆ     | å¯ç”¨å `/v1/images/generations` èµ° WebSocket ç›´è¿ã€‚ | `true`                                                  |
|                       | `image_ws_nsfw`                | NSFW æ¨¡å¼          | WebSocket è¯·æ±‚æ˜¯å¦å¯ç”¨ NSFWã€‚                         | `true`                                                  |
|                       | `image_ws_blocked_seconds`     | Blocked é˜ˆå€¼       | æ”¶åˆ°ä¸­ç­‰å›¾åè¶…è¿‡è¯¥ç§’æ•°ä»æ— æœ€ç»ˆå›¾åˆ™åˆ¤å®š blockedã€‚      | `15`                                                    |
|                       | `image_ws_final_min_bytes`     | æœ€ç»ˆå›¾æœ€å°å­—èŠ‚     | åˆ¤å®šæœ€ç»ˆå›¾çš„æœ€å°å­—èŠ‚æ•°ï¼ˆé€šå¸¸ JPG > 100KBï¼‰ã€‚          | `100000`                                                |
|                       | `image_ws_medium_min_bytes`    | ä¸­ç­‰å›¾æœ€å°å­—èŠ‚     | åˆ¤å®šä¸­ç­‰è´¨é‡å›¾çš„æœ€å°å­—èŠ‚æ•°ã€‚                          | `30000`                                                 |
| **token**       | `auto_refresh`                 | è‡ªåŠ¨åˆ·æ–°           | æ˜¯å¦å¼€å¯ Token è‡ªåŠ¨åˆ·æ–°æœºåˆ¶ã€‚                         | `true`                                                  |
|                       | `refresh_interval_hours`       | åˆ·æ–°é—´éš”           | æ™®é€š Token åˆ·æ–°çš„æ—¶é—´é—´éš”ï¼ˆå°æ—¶ï¼‰ã€‚                   | `8`                                                     |
|                       | `super_refresh_interval_hours` | Super åˆ·æ–°é—´éš”     | Super Token åˆ·æ–°çš„æ—¶é—´é—´éš”ï¼ˆå°æ—¶ï¼‰ã€‚                  | `2`                                                     |
|                       | `fail_threshold`               | å¤±è´¥é˜ˆå€¼           | å•ä¸ª Token è¿ç»­å¤±è´¥å¤šå°‘æ¬¡åè¢«æ ‡è®°ä¸ºä¸å¯ç”¨ã€‚           | `5`                                                     |
|                       | `save_delay_ms`                | ä¿å­˜å»¶è¿Ÿ           | Token å˜æ›´åˆå¹¶å†™å…¥çš„å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰ã€‚                    | `500`                                                   |
|                       | `reload_interval_sec`          | åŒæ­¥é—´éš”           | å¤š worker åœºæ™¯ä¸‹ Token çŠ¶æ€åˆ·æ–°é—´éš”ï¼ˆç§’ï¼‰ã€‚           | `30`                                                    |
| **cache**       | `enable_auto_clean`            | è‡ªåŠ¨æ¸…ç†           | æ˜¯å¦å¯ç”¨ç¼“å­˜è‡ªåŠ¨æ¸…ç†ï¼Œå¼€å¯åæŒ‰ä¸Šé™è‡ªåŠ¨å›æ”¶ã€‚          | `true`                                                  |
|                       | `limit_mb`                     | æ¸…ç†é˜ˆå€¼           | ç¼“å­˜å¤§å°é˜ˆå€¼ï¼ˆMBï¼‰ï¼Œè¶…è¿‡é˜ˆå€¼ä¼šè§¦å‘æ¸…ç†ã€‚              | `1024`                                                  |
| **performance** | `media_max_concurrent`         | Media å¹¶å‘ä¸Šé™     | è§†é¢‘/åª’ä½“ç”Ÿæˆè¯·æ±‚çš„å¹¶å‘ä¸Šé™ã€‚æ¨è 50ã€‚                | `50`                                                    |
|                       | `assets_max_concurrent`        | Assets å¹¶å‘ä¸Šé™    | æ‰¹é‡æŸ¥æ‰¾/åˆ é™¤èµ„äº§æ—¶çš„å¹¶å‘è¯·æ±‚ä¸Šé™ã€‚æ¨è 25ã€‚          | `25`                                                    |
|                       | `assets_batch_size`            | Assets æ‰¹æ¬¡å¤§å°    | æ‰¹é‡æŸ¥æ‰¾/åˆ é™¤èµ„äº§æ—¶çš„å•æ‰¹å¤„ç†æ•°é‡ã€‚æ¨è 10ã€‚          | `10`                                                    |
|                       | `assets_max_tokens`            | Assets æœ€å¤§æ•°é‡    | å•æ¬¡æ‰¹é‡æŸ¥æ‰¾/åˆ é™¤èµ„äº§æ—¶çš„å¤„ç†æ•°é‡ä¸Šé™ã€‚æ¨è 1000ã€‚    | `1000`                                                  |
|                       | `assets_delete_batch_size`     | Assets åˆ é™¤æ‰¹é‡    | å•è´¦å·æ‰¹é‡åˆ é™¤èµ„äº§æ—¶çš„å•æ‰¹å¹¶å‘æ•°é‡ã€‚æ¨è 10ã€‚         | `10`                                                    |
|                       | `usage_max_concurrent`         | Token åˆ·æ–°å¹¶å‘ä¸Šé™ | æ‰¹é‡åˆ·æ–° Token ç”¨é‡æ—¶çš„å¹¶å‘è¯·æ±‚ä¸Šé™ã€‚æ¨è 25ã€‚        | `25`                                                    |
|                       | `usage_batch_size`             | Token åˆ·æ–°æ‰¹æ¬¡å¤§å° | æ‰¹é‡åˆ·æ–° Token ç”¨é‡çš„å•æ‰¹å¤„ç†æ•°é‡ã€‚æ¨è 50ã€‚          | `50`                                                    |
|                       | `usage_max_tokens`             | Token åˆ·æ–°æœ€å¤§æ•°é‡ | å•æ¬¡æ‰¹é‡åˆ·æ–° Token ç”¨é‡æ—¶çš„å¤„ç†æ•°é‡ä¸Šé™ã€‚æ¨è 1000ã€‚  | `1000`                                                  |
|                       | `nsfw_max_concurrent`          | NSFW å¼€å¯å¹¶å‘ä¸Šé™  | æ‰¹é‡å¼€å¯ NSFW æ¨¡å¼æ—¶çš„å¹¶å‘è¯·æ±‚ä¸Šé™ã€‚æ¨è 10ã€‚         | `10`                                                    |
|                       | `nsfw_batch_size`              | NSFW å¼€å¯æ‰¹æ¬¡å¤§å°  | æ‰¹é‡å¼€å¯ NSFW æ¨¡å¼çš„å•æ‰¹å¤„ç†æ•°é‡ã€‚æ¨è 50ã€‚           | `50`                                                    |
|                       | `nsfw_max_tokens`              | NSFW å¼€å¯æœ€å¤§æ•°é‡  | å•æ¬¡æ‰¹é‡å¼€å¯ NSFW çš„ Token æ•°é‡ä¸Šé™ã€‚æ¨è 1000ã€‚      | `1000`                                                  |

<br>

## Star History

[![Star History Chart](https://api.star-history.com/svg?repos=Chenyme/grok2api&type=Timeline)](https://star-history.com/#Chenyme/grok2api&Timeline)
